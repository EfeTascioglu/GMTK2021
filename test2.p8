pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--varialbes

function _init()
	player = {
		speed = 0,
		x = 64,
		y = 64,
		w = 8,
		h = 8,
		fliped = false,
		dx = 0;
		dy = 0,
		max_dx = 3;
		max_dy = 3;
		acc = 0.5;
		jump = 4;
		animation_step = 0;
		running = false,
		jumping = false,
		falling = false,
		sliding = false,
		landing = false	
	}
	
	gravity = 0.3
	friction = 0.85
end

function _update()
	if (btn(⬅️)) x-=1
	if (btn(➡️)) x+=1
	if (btn(⬆️)) y-=1
	if (btn(⬇️)) y+=1	
end



-->8
--update and draw
function _update()
	player.y += gravity
end

function _draw()
	cls()
	map(0,0)
	spr(player.speed,player.x,player.y,1,1,player.flipped)
end
-->8
--collisions

function collide_map(obj,aim,flag)
	--obj = table needs x,y,w,h
	--aim = left,right,up,down
	
	local x=obj.x
	local y=obj.y
	local w=obj.w
	local h=obj.h
	
	local x1=0
	local x2=0
	local y1=0
	local y2=0
	
	if aim == "left" then
		x1=x-1
		x2=x
		y1=y
		y2=y+h-1
	
	elseif aim == "right" then
		x1=x+w
		x2=x+w+1
		y1=y
		y2=y+h-1
	
	elseif aim == "up" then
		x1=x+1
		x2=x+w-1
		y1=y-1
		y2=y
	
	elseif aim == "right" then
		x1=x
		x2=x+w
		y1=y+h
		y2=y+h
	end
	
	--pixels to tiles
	x1/=8
	x2/=8
	y1/=8
	y2/=8
		
		
end
__gfx__
00444440004444400044444000444440004444400004444409044444900444440004444490044444090444440000000000000000000000000000000000000000
00ccccc000ccccc000aa999000aa999000aa9990009aa999909aa999099aa999009aa999099aa999909aa9990000000000000000000000000000000000000000
0cf72f200cf72f2009f72f2009f72f2009f72f20990f72f2000f72f2000f72f2990f72f2000f72f2000f72f20000000000000000000000000000000000000000
0cfffff00cfffff009fffff009fffff009fffff0000fffff000fffff000fffff000fffff000fffff000fffff0000000000000000000000000000000000000000
000cc00000cccc00f009a00f0009a0000099aa0000999a0000999a0000aa900000aa990000aa990000999a000000000000000000000000000000000000000000
00cccc000f0cc0f00ccbbca0009bba000f0bb0f00f0bb0f00f0bb0f00f0bb9f00f0bb0f00f0bb0f00f0bb0f00000000000000000000000000000000000000000
0f0cc0f0000cc000000bc0a00f0b90f0000b90000aab900000ab90000099a000099ba0000099a00000ab90000000000000000000000000000000000000000000
00c00c0000c00c0090c00c0a00a0090000a0090000000900000090000000a00000000a000000a000000090000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
556555d5556555d5556555d5556555d5555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
56555d5556555d5556555d5556555d55555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6555d5556555d5556555d5555555d555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5555555555555d555655555555555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd000000000000000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd000000000000000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd000000000000000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd000000000000000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303030300000000000000000000000101010000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051535051525352505153525051505200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5454545454545454545454545454545400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5454545454545454545454545454545400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
011300001c1501d1001d1501a1001c1501a1501815000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100
__music__
00 01424344

